---
layout: post
title: "什么是操作系统？"
author: LJC
tags:
- os
date: 2022-11-05 15:10 +0800
toc: true
---

# 操作系统 Operating Systems

操作系统对解决很多工程问题提供了经典且有效的解决思路，在任务调度（多线程、并发），文件管理等等问题的解决方案和思路是典范性的。

------

## 什么是操作系统？

**操作系统是计算机硬件和应用之间的一层软件，使用计算机的硬件需要穿过操作系统**，如果再装一些软件就更方便/高效使用了。操作系统让我们使用硬件更加方便。

![os01.png](/images/os/os01.png "操作系统的作用/位置")

OS 管理哪些硬件？主要讲这些基本部分：

![os02.png](/images/os/os02.png "操作系统管理哪些硬件")

学习的层次：
- 只知道接口，只会调用，但不知道其内部的深层次：
    - ![os03.png](/images/os/os03.png "学习的层次1")

- 知道操作系统的细节，背后发生的事情，进程怎么实现？为什么可以管理CPU？fork做了什么事？改动操作系统；
    - ![os03-1.png](/images/os/os03-1.png "学习的层次2")

- 搭建操作系统
    - ![os03-2.png](/images/os/os03-2.png "学习的层次3")

学习目标：能改操作系统，知道操作系统**如何运转**，Learning OS concepts by coding them！在原理和代码之间频繁切换。

-------------------

> 计算机的工作原理：**取指-执行**

使用计算机硬件，要用操作系统为我们提供的接口来使用，方便使用计算机，提高效率。比如有了printf我们使用计算机就不用一个一个显示了。

计算机是怎么工作的？其实是在一个模型下设计出来实现。

- 1936 的图灵机：借鉴了人-笔-纸：看到1+2，在脑子里找到规则，得到5，写下来；用自动设备模拟，如纸带；
    - ![os04.png](/images/os/os04.png "图灵机")
    - 图灵机只会加法（取决于它的控制器）

- 通用图灵机：控制器可变—— 根据读取的逻辑 先设置控制器动作，然后操作数据对象；逻辑给加法就是加法，给减法就是减法。
    - ![os05.png](/images/os/os05.png "通用图灵机")
    - 显然，这个设置控制器动作的过程，和 程序 很像。

- 1946的 冯 · 诺依曼**存储程序思想**：将程序和数据存放到计算机内部的存储器中，计算机在程序的控制下一步一步进行处理：
    - 可以看到，<mark>程序（指令）存到计算机内存里，然后用一个**指针**指向它，然后取指，CPU（控制器）解释程序，并按照指令执行，产生结果</mark>；
    - 计算机执行的过程就是四个字：**取指-执行**；
    - ![os06.png](/images/os/os06.png "冯 · 诺依曼")

所以，当计算机开机时，第一条指令是什么？显然要把 os 从硬盘读取到内存中。涉及部分汇编的内容；

- 将0磁道0扇区的东西（恰好是操作系统的引导扇区，也是操作系统的第一段，一个扇区512字节）读到0x7c00处（正好512）
跳到引导扇区执行启动程序。
    - ![os07.png](/images/os/os07.png "操作系统")
- 引导扇区的代码是汇编代码，是机器指令
    - ![os08.png](/images/os/os08.png "操作系统")











